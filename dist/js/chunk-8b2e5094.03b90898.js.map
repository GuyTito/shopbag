{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/components/Item.vue?11df","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/assets/icons/pencil.svg","webpack:///./src/views/BagPage.vue","webpack:///./src/components/Item.vue","webpack:///./src/components/Item.vue?6395","webpack:///./src/views/BagPage.vue?4d43"],"names":["$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","fails","module","exports","METHOD_NAME","argument","method","call","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","right","class","src","alt","height","width","bag","bag_name","to","bag_id","items","item","key","item_id","currency","removeItem","total_budget","total_expense","balance","comment","type","markPurchased","purchased","item_name","budget_price","market_price","quantity","bought_price","$emit","name","props","methods","render","__scopeId","components","Item","data","itemId","filter","calcExpenses","IDs","bagId","idb","sum","parseInt","mounted","getBag","$route","params","id","then","response"],"mappings":"kHACA,IAAIA,EAAI,EAAQ,QACZC,EAAU,EAAQ,QAA6BC,KAC/CC,EAAsB,EAAQ,QAC9BC,EAAiB,EAAQ,QACzBC,EAAU,EAAQ,QAElBC,EAAgBH,EAAoB,UAGpCI,GAAcF,GAAWD,EAAiB,IAAMA,EAAiB,GAIrEJ,EAAE,CAAEQ,OAAQ,QAASC,OAAO,EAAMC,QAASJ,GAAiBC,GAAc,CACxEI,OAAQ,SAAgBC,GACtB,OAAOX,EAAQY,KAAMD,EAAYE,UAAUC,OAAQD,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,oCChB7F,W,kCCCA,IAAIC,EAAQ,EAAQ,QAEpBC,EAAOC,QAAU,SAAUC,EAAaC,GACtC,IAAIC,EAAS,GAAGF,GAChB,QAASE,GAAUL,GAAM,WAEvBK,EAAOC,KAAK,KAAMF,GAAY,WAAc,MAAM,GAAM,Q,4CCP5D,IAAIG,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAgB,EAAQ,QACxBC,EAAW,EAAQ,QAGnBC,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAMlB,EAAYmB,EAAiBC,GAClDR,EAAUZ,GACV,IAAIqB,EAAIR,EAASK,GACbI,EAAOR,EAAcO,GACrBlB,EAASY,EAASM,EAAElB,QACpBoB,EAAQN,EAAWd,EAAS,EAAI,EAChCqB,EAAIP,GAAY,EAAI,EACxB,GAAIE,EAAkB,EAAG,MAAO,EAAM,CACpC,GAAII,KAASD,EAAM,CACjBF,EAAOE,EAAKC,GACZA,GAASC,EACT,MAGF,GADAD,GAASC,EACLP,EAAWM,EAAQ,EAAIpB,GAAUoB,EACnC,MAAME,UAAU,+CAGpB,KAAMR,EAAWM,GAAS,EAAIpB,EAASoB,EAAOA,GAASC,EAAOD,KAASD,IACrEF,EAAOpB,EAAWoB,EAAME,EAAKC,GAAQA,EAAOF,IAE9C,OAAOD,IAIXd,EAAOC,QAAU,CAGfjB,KAAM0B,GAAa,GAGnBU,MAAOV,GAAa,K,qBCtCtBV,EAAOC,QAAU,IAA0B,2B,iKCEpCoB,MAAM,uC,GACJA,MAAM,uC,GACLA,MAAM,Q,EAGR,eAKE,OAJAC,IAAA,IACAC,IAAI,OACJC,OAAO,KACPC,MAAM,M,WAMZ,eAAyB,MAArBJ,MAAM,cAAY,S,GAEjBA,MAAM,gB,EAGP,eAAyB,MAArBA,MAAM,cAAY,S,GAGnBA,MAAM,a,EACJ,eAA+B,cAAvB,kBAAc,G,EACtB,eAAiC,cAAzB,oBAAgB,G,EAE3B,eAA0B,cAAlB,aAAS,G,EAQnB,eAAc,UAAV,SAAK,G,oHAnCwC,EAAAK,K,iBAAvD,eAuCM,MAvCN,EAuCM,CAtCJ,eAYM,MAZN,EAYM,CAXJ,eAAwC,KAAxC,EAAwC,eAApB,EAAAA,IAAIC,UAAQ,GAEhC,eAOc,GAPAC,GAAE,gBAAW,EAAAF,IAAIG,QAAUR,MAAM,Q,YAC7C,iBAKE,CALF,M,iBAUJ,EAEA,eAqBM,MArBN,EAqBM,E,mBApBJ,eAGM,2BAHc,EAAAK,IAAII,OAAK,SAAjBC,G,wBAAZ,eAGM,OAH0BC,IAAKD,EAAKE,S,CACxC,eAAqE,GAA9DF,KAAMA,EAAOG,SAAU,EAAAR,IAAIQ,SAAW,UAAU,EAAAC,Y,wCACvD,O,MAGF,eASM,MATN,EASM,CARJ,eAA4E,YAAvE,E,8BAAkC,EAAAT,IAAIQ,UAAQ,eAAK,EAAAE,cAAY,KACpE,eAA+E,YAA1E,E,8BAAoC,EAAAV,IAAIQ,UAAQ,eAAK,EAAAG,eAAa,KACvE,eAKM,YAJJ,EACA,eAEO,QAFAhB,MAAK,CAAG,EAAAiB,QAAO,qB,eACjB,EAAAZ,IAAIQ,UAAQ,eAAK,EAAAI,SAAO,OAKjC,eAGM,YAFJ,E,eAAc,IACd,eAAG,EAAAZ,IAAIa,SAAO,U,mLCrCflB,MAAM,kC,GAOFA,MAAM,oB,GAIJA,MAAM,iB,GAEHA,MAAM,Q,GACNA,MAAM,Q,GACNA,MAAM,Q,GAKbA,MAAM,Q,EAEP,eAAuE,OAAlEC,IAAA,IAA6BC,IAAI,QAAQC,OAAO,KAAKC,MAAM,M,iFAtBtE,eAyBM,MAzBN,EAyBM,CAxBJ,eAiBM,YAhBJ,eAIE,SAHAe,KAAK,WACJ,SAAM,8BAAE,EAAAC,eAAA,EAAAA,cAAA,qBACTpB,MAAM,+B,SAER,eAUM,MAVN,EAUM,CATJ,eAEM,OAFAA,MAAK,gBAAoB,EAAAU,KAAKW,Y,CAClC,eAA6B,yBAAtB,EAAAX,KAAKY,WAAS,I,GAEvB,eAKM,MALN,EAKM,CAJJ,eAAoD,YAA9C,MAAG,eAAE,EAAAT,UAAQ,eAAK,EAAAH,KAAKa,cAAY,GACzC,eAAkE,OAAlE,EAAmB,MAAG,eAAE,EAAAV,UAAU,IAAC,eAAG,EAAAH,KAAKc,cAAY,GACvD,eAAgD,OAAhD,EAAmB,MAAG,eAAG,EAAAd,KAAKe,UAAQ,GACtC,eAAkE,OAAlE,EAAmB,OAAI,eAAE,EAAAZ,UAAQ,eAAK,EAAAH,KAAKgB,cAAY,SAK7D,eAIM,MAJN,EAIM,CAHJ,eAEM,OAFA,QAAK,+BAAE,EAAAC,MAAK,WAAa,EAAAjB,KAAKE,WAAUZ,MAAM,mC,CAClD,WAOO,GACb4B,KAAM,OACNC,MAAO,CAAC,OAAQ,YAChBC,QAAS,CACPV,cADO,WAEL9C,KAAKoC,KAAKW,WAAa/C,KAAKoC,KAAKW,a,UC9BvC,EAAOU,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QFwCA,GACbJ,KAAM,UACNK,WAAY,CAAEC,QACdC,KAHa,WAIX,MAAM,CACJpB,aAAc,EACdC,cAAe,EACfC,QAAS,EACTZ,IAAK,KAGTyB,QAAS,CACDhB,WADC,SACUsB,GAAQ,qKACvB,EAAK/B,IAAII,MAAQ,EAAKJ,IAAII,MAAM4B,QAAO,SAAA3B,GAAG,OAAKA,EAAKE,UAAYwB,KAChE,EAAKE,aAAa,EAAKjC,IAAII,OAEvB8B,EAAM,CACRC,MAAO,EAAKnC,IAAIG,OAChB4B,OAAQA,GANa,SAQjBK,EAAA,KAAI3B,WAAWyB,GARE,8CAUzBD,aAXO,SAWM7B,GACX,IAAIM,EAAeN,EAAMrC,QAAO,SAASsE,EAAKhC,GAC5C,OAAOgC,EAAOC,SAASjC,EAAKa,cAAgBoB,SAASjC,EAAKe,YACzD,GACHnD,KAAKyC,aAAeA,EAEpB,IAAIC,EAAgBP,EAAMrC,QAAO,SAASsE,EAAKhC,GAC7C,OAAOgC,EAAOC,SAASjC,EAAKgB,cAAgBiB,SAASjC,EAAKe,YACzD,GACHnD,KAAK0C,cAAgBA,EAErB1C,KAAK2C,QAAUF,EAAeC,IAGlC4B,QApCa,WAoCH,WACRH,EAAA,KAAII,OAAOvE,KAAKwE,OAAOC,OAAOC,IAC3BC,MAAK,SAACC,GACL,EAAK7C,IAAM6C,EACX,EAAKZ,aAAaY,EAASzC,YGrFnC,EAAOsB,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-8b2e5094.03b90898.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Item.vue?vue&type=style&index=0&id=2685e5e7&scoped=true&lang=css\"","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","module.exports = __webpack_public_path__ + \"img/pencil.9c4e5594.svg\";","<template>\r\n  <!-- list of items -->\r\n  <div class=\"container-fluid mt-4 mb-4 page-head\" v-if=\"bag\">\r\n    <div class=\"d-flex justify-content-between mb-2\">\r\n      <h2 class=\"mx-2\">{{ bag.bag_name }}</h2>\r\n\r\n      <router-link :to=\"`/edit/${bag.bag_id}`\" class=\"mx-3\">\r\n        <img\r\n          src=\"@/assets/icons/pencil.svg\"\r\n          alt=\"edit\"\r\n          height=\"25\"\r\n          width=\"25\"\r\n        />\r\n      </router-link>\r\n\r\n    </div>\r\n\r\n    <hr class=\"bg-primary\" />\r\n\r\n    <div class=\"v-center p-2\">\r\n      <div v-for=\"item in bag.items\" :key=\"item.item_id\">\r\n        <Item :item=\"item\" :currency=\"bag.currency\" @del-item=\"removeItem\" />\r\n        <hr class=\"bg-primary\" />\r\n      </div>\r\n\r\n      <div class=\"mt-4 mb-4\">\r\n        <div><strong>Total Budget: </strong>{{ bag.currency }}{{total_budget}}</div>\r\n        <div><strong>Total Expenses: </strong>{{ bag.currency }}{{total_expense}}</div>\r\n        <div>\r\n          <strong>Balance: </strong> \r\n          <span :class=\"[balance < 0 ? 'text-danger' : '']\"> \r\n            {{ bag.currency }}{{balance}}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h6>Notes</h6>\r\n        {{ bag.comment }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport idb from '@/api/idb.js';\r\nimport Item from \"../components/Item\";\r\n\r\nexport default {\r\n  name: \"BagPage\",\r\n  components: { Item },\r\n  data(){\r\n    return{\r\n      total_budget: 0,\r\n      total_expense: 0,\r\n      balance: 0,\r\n      bag: {},\r\n    }\r\n  },\r\n  methods: {\r\n    async removeItem(itemId) {\r\n      this.bag.items = this.bag.items.filter(item => item.item_id !== itemId)\r\n      this.calcExpenses(this.bag.items)\r\n\r\n      let IDs = {\r\n        bagId: this.bag.bag_id,\r\n        itemId: itemId,\r\n      };\r\n      await idb.removeItem(IDs)\r\n    },\r\n    calcExpenses(items){\r\n      let total_budget = items.reduce(function(sum, item) { \r\n        return sum + (parseInt(item.budget_price) * parseInt(item.quantity));\r\n      }, 0)\r\n      this.total_budget = total_budget\r\n\r\n      let total_expense = items.reduce(function(sum, item) { \r\n        return sum + (parseInt(item.bought_price) * parseInt(item.quantity));\r\n      }, 0)\r\n      this.total_expense = total_expense\r\n\r\n      this.balance = total_budget - total_expense\r\n    }\r\n  },\r\n  mounted() {\r\n    idb.getBag(this.$route.params.id)\r\n      .then((response) => {\r\n        this.bag = response;\r\n        this.calcExpenses(response.items)\r\n      })\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","<template>\r\n  <div class=\"d-flex justify-content-between\">\r\n    <div>\r\n      <input\r\n        type=\"checkbox\"\r\n        @change=\"markPurchased\"\r\n        class=\"float-start mt-3 form-check\"\r\n      />\r\n      <div class=\"float-start mx-4\">\r\n        <div :class=\"{ 'is-purchased': item.purchased }\">\r\n          <h5>{{ item.item_name }}</h5>\r\n        </div>\r\n        <div class=\"text-black-50\">\r\n          <span>b: {{currency}}{{ item.budget_price }} </span>\r\n          <span class=\"ms-4\">m: {{currency}} {{ item.market_price }} </span>\r\n          <span class=\"ms-4\">q: {{ item.quantity }}</span>\r\n          <span class=\"ms-4\">ex: {{currency}}{{ item.bought_price }} </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-2\">\r\n      <div @click=\"$emit('del-item', item.item_id)\" class=\"bg-secondary rounded-circle p-2\" >\r\n        <img src=\"@/assets/icons/bin.svg\" alt=\"trash\" height=\"25\" width=\"25\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Item\",\r\n  props: [\"item\", \"currency\"],\r\n  methods: {\r\n    markPurchased() {\r\n      this.item.purchased = !this.item.purchased;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.is-purchased {\r\n  text-decoration: line-through;\r\n}\r\n\r\n/* @media (prefers-color-scheme: dark) {\r\n        .item {\r\n            color: #eee;\r\n            background: #121212;\r\n        }\r\n    } */\r\n</style>","import { render } from \"./Item.vue?vue&type=template&id=2685e5e7&scoped=true\"\nimport script from \"./Item.vue?vue&type=script&lang=js\"\nexport * from \"./Item.vue?vue&type=script&lang=js\"\n\nimport \"./Item.vue?vue&type=style&index=0&id=2685e5e7&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2685e5e7\"\n\nexport default script","import { render } from \"./BagPage.vue?vue&type=template&id=09f3a301&scoped=true\"\nimport script from \"./BagPage.vue?vue&type=script&lang=js\"\nexport * from \"./BagPage.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-09f3a301\"\n\nexport default script"],"sourceRoot":""}